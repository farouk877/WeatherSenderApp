(this.webpackJsonpweathersender=this.webpackJsonpweathersender||[]).push([[0],{126:function(e,t,a){e.exports=a(215)},131:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(2),c=a.n(s),o=(a(131),a(50)),l=a(51),i=a(22),u=a(59),m=a(57),b=a(82),h=(a(84),a(99)),d=a.n(h),p=a(218),g=p.a.Title,f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"TitleContainer"},r.a.createElement("div",{className:"ImageContainer"},r.a.createElement("img",{src:d.a,alt:"sunlogo",className:"App-logo"})),r.a.createElement("div",{className:"TitleTextContainer"},r.a.createElement(g,{level:3},"Weather",r.a.createElement("br",null),"Sender"))))}}]),a}(n.Component),v=a(219),E=a(217),x=a(220),y=a(221),S=a(222),N=a(223),k=a(224),C=a(225),T=a(226),B=p.a.Text,w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={apiResponse:"",dbResponse:"",isLoading:!1,subscribeError:"",phoneNumber:"",zipcode:"",phoneNumberStatus:"#c8c8c8",zipcodeStatus:"#c8c8c8",resultBoxVisible:"hidden"},n.onTextboxChangePhoneNumber=n.onTextboxChangePhoneNumber.bind(Object(i.a)(n)),n.onTextboxChangeZipcode=n.onTextboxChangeZipcode.bind(Object(i.a)(n)),n.onTextboxChangeTimePreference=n.onTextboxChangeTimePreference.bind(Object(i.a)(n)),n.onSubscribe=n.onSubscribe.bind(Object(i.a)(n)),n.unsubscribeClicked=n.unsubscribeClicked.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.callAPI(),this.callDB()}},{key:"callAPI",value:function(){var e=this;fetch("https://weathersenderapp.herokuapp.com/testAPI").then((function(e){return e.text()})).then((function(t){return e.setState({apiResponse:t})})).catch((function(e){return e}))}},{key:"callDB",value:function(){var e=this;fetch("https://weathersenderapp.herokuapp.com/testDB").then((function(e){return e.text()})).then((function(t){return e.setState({dbResponse:t})})).catch((function(e){return e}))}},{key:"onTextboxChangePhoneNumber",value:function(e){var t=e.target.value.replace(/\D/g,"").substring(0,10),a=!1;t.length<this.state.phoneNumber.length&&(a=!0);var n=t.length;0===n||(t=n<3?"("+t:3===n?"("+t+(a?"":") "):n<6?"("+t.substring(0,3)+") "+t.substring(3,6):6===n?"("+t.substring(0,3)+") "+t.substring(3,6)+(a?"":"-"):"("+t.substring(0,3)+") "+t.substring(3,6)+"-"+t.substring(6,10)),e.target.value=t,this.setState({phoneNumber:e.target.value});var r=e.target.value.replace(/\D/g,"").substring(0,10).length;10===r?this.setState({phoneNumberStatus:"#009100"}):0!==r&&10!==r?this.setState({phoneNumberStatus:"#f0a400"}):this.setState({phoneNumberStatus:"#c8c8c8"})}},{key:"onTextboxChangeZipcode",value:function(e){var t=e.target.value.replace(/\D/g,"").substring(0,5);e.target.value=t,this.setState({zipcode:e.target.value}),5===e.target.value.length?this.setState({zipcodeStatus:"#009100"}):0!==e.target.value.length&&5!==e.target.value.length?this.setState({zipcodeStatus:"#f0a400"}):this.setState({zipcodeStatus:"#c8c8c8"})}},{key:"onTextboxChangeTimePreference",value:function(e){}},{key:"onSubscribe",value:function(e){var t=this,a=this.state,n=a.phoneNumber,r=a.zipcode;this.setState({isLoading:!0,resultBoxVisible:"hidden"});var s=document.getElementById("preferencea").checked,c=document.getElementById("preferenceb").checked,o="";s?o="A":c&&(o="B");var l=n;l=l.replace(/\D/g,"").substring(0,10),fetch("https://weathersenderapp.herokuapp.com/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:l,zipcode:r,timePreference:o})}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){t.setState({isLoading:!1}),e.success?t.setState({subscribeError:e.message,phoneNumber:"",zipcode:"",resultBoxVisible:"visible",phoneNumberStatus:"#c8c8c8",zipcodeStatus:"#c8c8c8"}):t.setState({subscribeError:e.message,resultBoxVisible:"visible"})}),500)}))}},{key:"unsubscribeClicked",value:function(){var e=document.getElementById("unsubscribeMessage").style;"none"===e.display||""===e.display?e.display="inline-block":e.display="none"}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.subscribeError,n=e.phoneNumber,s=e.zipcode,c=e.phoneNumberStatus,o=e.zipcodeStatus,l=e.resultBoxVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"parentContainer"},r.a.createElement(f,null),r.a.createElement("div",{className:"Introduction"},r.a.createElement(B,{strong:!0},"Welcome to WeatherSender!"),r.a.createElement("br",null),r.a.createElement(B,null,"Subscribe to our free daily weather updates via SMS."),r.a.createElement("br",null),r.a.createElement(B,null,"Available for United States only."),r.a.createElement("br",null),r.a.createElement("div",{className:"unsubscribeText"},r.a.createElement("span",{id:"unsubscribeButton",onClick:this.unsubscribeClicked},r.a.createElement(B,{code:!0},"Unsubscribe")),r.a.createElement(B,null," anytime.")),r.a.createElement("div",{id:"unsubscribeMessage"},r.a.createElement(B,{copyable:{text:"2058755346"}},"To unsubscribe, text 'REMOVE' to +1 (205) 875-5346"))),r.a.createElement("div",{className:"InputContainer"},r.a.createElement("div",{className:"InputField"},r.a.createElement(v.a,{type:"text",value:n,onChange:this.onTextboxChangePhoneNumber,addonBefore:r.a.createElement(y.a,{style:{color:"#08c"}}),suffix:r.a.createElement(S.a,{style:{color:c}}),size:"large",placeholder:"Phone Number"})),r.a.createElement("div",{className:"InputField"},r.a.createElement(v.a,{type:"text",value:s,onChange:this.onTextboxChangeZipcode,addonBefore:r.a.createElement(N.a,{style:{color:"#08c"}}),suffix:r.a.createElement(S.a,{style:{color:o}}),size:"large",placeholder:"Zipcode"}))),r.a.createElement("div",{className:"RadioContainer"},r.a.createElement(B,null,"Send weather updates at:"),r.a.createElement(E.default.Group,{size:"large"},r.a.createElement(E.default.Button,{id:"preferencea",value:"preferencea",className:"RadioButton",onChange:this.onTextboxChangeTimePreference},"9pm for next day"),r.a.createElement("br",null),r.a.createElement(E.default.Button,{id:"preferenceb",value:"preferenceb",className:"RadioButton",onChange:this.onTextboxChangeTimePreference},"6am for same day"))),r.a.createElement("div",{className:"subscribeButton"},r.a.createElement(b.a,{type:"primary",onClick:this.onSubscribe,size:"large",shape:"round",loading:t},"Subscribe")),r.a.createElement("div",{id:"subscriptionStatusBox",style:{visibility:l}},r.a.createElement(x.a,{message:a,type:"S"!==a.slice(0,1)?"error":"success",showIcon:!0})),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"copyright"},r.a.createElement(B,null,"\xa9 WeatherSender 2020")),r.a.createElement(B,null,r.a.createElement("a",{href:"https://www.linkedin.com/in/faroukmarhaba/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(k.a,{style:{color:"#3474eb"},className:"bottomIcons"})),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"https://faroukmarhaba.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(C.a,{style:{color:"#f0a400"},className:"bottomIcons"})),"\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"mailto:hello@faroukmarhaba.com"},r.a.createElement(T.a,{style:{color:"#eb3434"},className:"bottomIcons"})))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/weather.f197597c.svg"}},[[126,1,2]]]);
//# sourceMappingURL=main.b8db342d.chunk.js.map